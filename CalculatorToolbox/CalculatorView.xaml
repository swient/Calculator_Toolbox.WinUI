<UserControl
    x:Class="CalculatorToolbox.CalculatorView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <UserControl.Resources>
        <!-- åŸºæœ¬æŒ‰éˆ• Style -->
        <Style x:Key="CalculatorButtonStyle" TargetType="Button">
            <Setter Property="FontSize" Value="22"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="Background" Value="#F3F3F3"/>
        </Style>
        <!-- é‹ç®—ç¬¦æŒ‰éˆ• Style -->
        <Style x:Key="OperatorButtonStyle" BasedOn="{StaticResource CalculatorButtonStyle}" TargetType="Button">
            <Setter Property="Background" Value="#E5E5E5"/>
        </Style>
        <!-- ç­‰è™ŸæŒ‰éˆ• Style -->
        <Style x:Key="EqualsButtonStyle" BasedOn="{StaticResource CalculatorButtonStyle}" TargetType="Button">
            <Setter Property="Background" Value="#0078D7"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
    </UserControl.Resources>
    <Grid Background="#F8FAFC">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="2.2*"/>
            <RowDefinition Height="7.8*"/>
        </Grid.RowDefinitions>
        <!-- é¡¯ç¤ºå€ -->
        <Border Grid.Row="1"
                Margin="24,16,24,8"
                Background="White"
                CornerRadius="18"
                Padding="24,18,24,18">
            <StackPanel>
                <TextBlock FontSize="18"
                           Foreground="#8A8A8A"
                           TextAlignment="Right"
                           TextTrimming="CharacterEllipsis"
                           Margin="0,0,0,4"
                           Text="{Binding Expression}"/>
                <TextBlock FontSize="44"
                           FontWeight="Bold"
                           Foreground="#222"
                           TextAlignment="Right"
                           TextTrimming="CharacterEllipsis"
                           Text="{Binding UserInput}"/>
            </StackPanel>
        </Border>
        <!-- æŒ‰éˆ•å€ -->
        <Grid Grid.Row="2" Margin="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <!-- ç¬¬ä¸€æŽ’ -->
            <Button Style="{StaticResource OperatorButtonStyle}" Content="%" Command="{Binding PercentCommand}" Grid.Row="0" Grid.Column="0" Margin="5"/>
            <Button Style="{StaticResource OperatorButtonStyle}" Content="CE" Command="{Binding ClearEntryCommand}" Grid.Row="0" Grid.Column="1" Margin="5"/>
            <Button Style="{StaticResource OperatorButtonStyle}" Content="C" Command="{Binding ClearCommand}" Grid.Row="0" Grid.Column="2" Margin="5"/>
            <Button Style="{StaticResource OperatorButtonStyle}" Content="âŒ«" Command="{Binding BackspaceCommand}" Grid.Row="0" Grid.Column="3" Margin="5"/>
            <!-- ç¬¬äºŒæŽ’ -->
            <Button Style="{StaticResource OperatorButtonStyle}" Content="Â¹/ð‘¥" Command="{Binding ReciprocalCommand}" Grid.Row="1" Grid.Column="0" Margin="5"/>
            <Button Style="{StaticResource OperatorButtonStyle}" Content="ð‘¥Ê¸" Command="{Binding OperatorCommand}" CommandParameter="^" Grid.Row="1" Grid.Column="1" Margin="5"/>
            <Button Style="{StaticResource OperatorButtonStyle}" Content="âˆšð‘¥" Command="{Binding SquareRootCommand}" Grid.Row="1" Grid.Column="2" Margin="5"/>
            <Button Style="{StaticResource OperatorButtonStyle}" Content="Ã·" Command="{Binding OperatorCommand}" CommandParameter="Ã·" Grid.Row="1" Grid.Column="3" Margin="5"/>
            <!-- ç¬¬ä¸‰æŽ’ -->
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="7" Command="{Binding NumberCommand}" CommandParameter="7" Grid.Row="2" Grid.Column="0" Margin="5"/>
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="8" Command="{Binding NumberCommand}" CommandParameter="8" Grid.Row="2" Grid.Column="1" Margin="5"/>
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="9" Command="{Binding NumberCommand}" CommandParameter="9" Grid.Row="2" Grid.Column="2" Margin="5"/>
            <Button Style="{StaticResource OperatorButtonStyle}" Content="Ã—" Command="{Binding OperatorCommand}" CommandParameter="Ã—" Grid.Row="2" Grid.Column="3" Margin="5"/>
            <!-- ç¬¬å››æŽ’ -->
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="4" Command="{Binding NumberCommand}" CommandParameter="4" Grid.Row="3" Grid.Column="0" Margin="5"/>
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="5" Command="{Binding NumberCommand}" CommandParameter="5" Grid.Row="3" Grid.Column="1" Margin="5"/>
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="6" Command="{Binding NumberCommand}" CommandParameter="6" Grid.Row="3" Grid.Column="2" Margin="5"/>
            <Button Style="{StaticResource OperatorButtonStyle}" Content="âˆ’" Command="{Binding OperatorCommand}" CommandParameter="âˆ’" Grid.Row="3" Grid.Column="3" Margin="5"/>
            <!-- ç¬¬äº”æŽ’ -->
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="1" Command="{Binding NumberCommand}" CommandParameter="1" Grid.Row="4" Grid.Column="0" Margin="5"/>
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="2" Command="{Binding NumberCommand}" CommandParameter="2" Grid.Row="4" Grid.Column="1" Margin="5"/>
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="3" Command="{Binding NumberCommand}" CommandParameter="3" Grid.Row="4" Grid.Column="2" Margin="5"/>
            <Button Style="{StaticResource OperatorButtonStyle}" Content="+" Command="{Binding OperatorCommand}" CommandParameter="+" Grid.Row="4" Grid.Column="3" Margin="5"/>
            <!-- ç¬¬å…­æŽ’ -->
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="âº/â‚‹" Command="{Binding ToggleSignCommand}" Grid.Row="5" Grid.Column="0" Margin="5"/>
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="0" Command="{Binding NumberCommand}" CommandParameter="0" Grid.Row="5" Grid.Column="1" Margin="5"/>
            <Button Style="{StaticResource CalculatorButtonStyle}" Content="." Command="{Binding DecimalCommand}" Grid.Row="5" Grid.Column="2" Margin="5"/>
            <Button Style="{StaticResource EqualsButtonStyle}" Content="=" Command="{Binding EqualsCommand}" Grid.Row="5" Grid.Column="3" Margin="5"/>
        </Grid>
    </Grid>
</UserControl>
